{"ast":null,"code":"import axios from 'axios';\nconst bookFormat = book => {\n  return {\n    //isbn: book.volumeInfo.industryIdentifiers[0].identifier,\n    title: book.title,\n    author: book.author_name ? book.author_name.join(', ') : 'Unknown Author',\n    //publisher: book.volumeInfo.publisher || 'Unknown Publisher',\n    publishDate: book.first_publish_year || 'Unknown Date',\n    //description: book.volumeInfo.description || 'No Description Available',\n    //categories: book.volumeInfo.categories ? book.volumeInfo.categories.join(', ') : 'Uncategorized',\n    //pageCount: book.volumeInfo.pageCount || 'Unknown Page Count',\n    //language: book.volumeInfo.language ? book.volumeInfo.language.toUpperCase() : 'Unknown Language',\n    thumbnail: `https://covers.openlibrary.org/b/${book.lending_edition_s || book.cover_edition_key ? `olid/${book.lending_edition_s || book.cover_edition_key}` : `id/${book.cover_id}`}-L.jpg`,\n    progress: 0\n  };\n};\nconst fetchQuery = async (type, crit, search, sort) => {\n  let url = `https://openlibrary.org/search.json?q=${search}`;\n  if (crit === \"Author\") url = `https://openlibrary.org/search/authors.json?q=${search}`;\n  if (crit === \"ISBN\") url = `http://openlibrary.org/api/volumes/brief/isbn/${search}.json`;\n  let books = [];\n  console.log(\"Fetching from URL:\", url);\n  try {\n    const response = await axios.get(url);\n    books = response.data.docs.slice(0, 40).map(book => bookFormat(book));\n    console.log(\"books\", books); //// Debugging line\n\n    return books;\n  } catch (error) {\n    console.error(\"Error fetching books:\", error);\n    return [];\n  }\n};\nexport default fetchQuery;","map":{"version":3,"names":["axios","bookFormat","book","title","author","author_name","join","publishDate","first_publish_year","thumbnail","lending_edition_s","cover_edition_key","cover_id","progress","fetchQuery","type","crit","search","sort","url","books","console","log","response","get","data","docs","slice","map","error"],"sources":["D:/Millions/React/Book-Library/src/components/fetchQuery.js"],"sourcesContent":["import axios from 'axios'\r\n\r\n\r\nconst bookFormat = (book) => {\r\n    return {\r\n        //isbn: book.volumeInfo.industryIdentifiers[0].identifier,\r\n        title: book.title,\r\n        author: book.author_name ? book.author_name.join(', ') : 'Unknown Author',\r\n        //publisher: book.volumeInfo.publisher || 'Unknown Publisher',\r\n        publishDate: book.first_publish_year || 'Unknown Date',\r\n        //description: book.volumeInfo.description || 'No Description Available',\r\n        //categories: book.volumeInfo.categories ? book.volumeInfo.categories.join(', ') : 'Uncategorized',\r\n        //pageCount: book.volumeInfo.pageCount || 'Unknown Page Count',\r\n        //language: book.volumeInfo.language ? book.volumeInfo.language.toUpperCase() : 'Unknown Language',\r\n        thumbnail: `https://covers.openlibrary.org/b/${(book.lending_edition_s || book.cover_edition_key) ? `olid/${book.lending_edition_s || book.cover_edition_key}` : `id/${book.cover_id}`}-L.jpg`,\r\n        progress: 0\r\n  };\r\n}\r\n\r\nconst fetchQuery = async (type, crit, search, sort) => {\r\n  let url = `https://openlibrary.org/search.json?q=${search}`\r\n  if (crit === \"Author\")\r\n    url = `https://openlibrary.org/search/authors.json?q=${search}`\r\n  if (crit === \"ISBN\")\r\n    url = `http://openlibrary.org/api/volumes/brief/isbn/${search}.json`\r\n\r\n\r\n\r\n  let books = []\r\n  console.log(\"Fetching from URL:\", url);\r\n  try {\r\n    const response = await axios.get(url)\r\n    books = response.data.docs.slice(0, 40).map(book => bookFormat(book));\r\n    console.log(\"books\", books); //// Debugging line\r\n    \r\n    return books\r\n  } catch (error) {\r\n    console.error(\"Error fetching books:\", error)\r\n    return []\r\n  }\r\n}\r\nexport default fetchQuery;"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAGzB,MAAMC,UAAU,GAAIC,IAAI,IAAK;EACzB,OAAO;IACH;IACAC,KAAK,EAAED,IAAI,CAACC,KAAK;IACjBC,MAAM,EAAEF,IAAI,CAACG,WAAW,GAAGH,IAAI,CAACG,WAAW,CAACC,IAAI,CAAC,IAAI,CAAC,GAAG,gBAAgB;IACzE;IACAC,WAAW,EAAEL,IAAI,CAACM,kBAAkB,IAAI,cAAc;IACtD;IACA;IACA;IACA;IACAC,SAAS,EAAE,oCAAqCP,IAAI,CAACQ,iBAAiB,IAAIR,IAAI,CAACS,iBAAiB,GAAI,QAAQT,IAAI,CAACQ,iBAAiB,IAAIR,IAAI,CAACS,iBAAiB,EAAE,GAAG,MAAMT,IAAI,CAACU,QAAQ,EAAE,QAAQ;IAC9LC,QAAQ,EAAE;EAChB,CAAC;AACH,CAAC;AAED,MAAMC,UAAU,GAAG,MAAAA,CAAOC,IAAI,EAAEC,IAAI,EAAEC,MAAM,EAAEC,IAAI,KAAK;EACrD,IAAIC,GAAG,GAAG,yCAAyCF,MAAM,EAAE;EAC3D,IAAID,IAAI,KAAK,QAAQ,EACnBG,GAAG,GAAG,iDAAiDF,MAAM,EAAE;EACjE,IAAID,IAAI,KAAK,MAAM,EACjBG,GAAG,GAAG,iDAAiDF,MAAM,OAAO;EAItE,IAAIG,KAAK,GAAG,EAAE;EACdC,OAAO,CAACC,GAAG,CAAC,oBAAoB,EAAEH,GAAG,CAAC;EACtC,IAAI;IACF,MAAMI,QAAQ,GAAG,MAAMvB,KAAK,CAACwB,GAAG,CAACL,GAAG,CAAC;IACrCC,KAAK,GAAGG,QAAQ,CAACE,IAAI,CAACC,IAAI,CAACC,KAAK,CAAC,CAAC,EAAE,EAAE,CAAC,CAACC,GAAG,CAAC1B,IAAI,IAAID,UAAU,CAACC,IAAI,CAAC,CAAC;IACrEmB,OAAO,CAACC,GAAG,CAAC,OAAO,EAAEF,KAAK,CAAC,CAAC,CAAC;;IAE7B,OAAOA,KAAK;EACd,CAAC,CAAC,OAAOS,KAAK,EAAE;IACdR,OAAO,CAACQ,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;IAC7C,OAAO,EAAE;EACX;AACF,CAAC;AACD,eAAef,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}