{"ast":null,"code":"import axios from 'axios';\nconst apiKey = \"AIzaSyB3DESYJ2L-dUafM9YJG8yzVa1pZ-3ETZE\";\nconst bookFormat = book => {\n  var _book$volumeInfo$imag;\n  return {\n    isbn: book.industryIdentifiers[0].identifier,\n    title: book.volumeInfo.title,\n    author: book.volumeInfo.authors ? book.volumeInfo.authors.join(', ') : 'Unknown Author',\n    publisher: book.volumeInfo.publisher || 'Unknown Publisher',\n    publishDate: book.volumeInfo.publishedDate || 'Unknown Date',\n    description: book.volumeInfo.description || 'No Description Available',\n    categories: book.volumeInfo.categories ? book.volumeInfo.categories.join(', ') : 'Uncategorized',\n    pageCount: book.volumeInfo.pageCount || 'Unknown Page Count',\n    language: book.volumeInfo.language ? book.volumeInfo.language.toUpperCase() : 'Unknown Language',\n    thumbnail: ((_book$volumeInfo$imag = book.volumeInfo.imageLinks) === null || _book$volumeInfo$imag === void 0 ? void 0 : _book$volumeInfo$imag.thumbnail) || ''\n  };\n};\nconst fetchQuery = async (type, crit, search, sort) => {\n  let url = `https://www.googleapis.com/books/v1/volumes?q=${search}&orderBy=${sort}&key=${apiKey}&maxResults=40`;\n  if (crit === \"Author\") url = `https://www.googleapis.com/books/v1/volumes?q=inauthor:${search}&orderBy=${sort}&key=${apiKey}&maxResults=40`;\n  if (crit === \"ISBN\") url = `https://www.googleapis.com/books/v1/volumes?q=isbn:${search}&orderBy=${sort}&key=${apiKey}&maxResults=40`;\n  let books = [];\n  console.log(\"Fetching from URL:\", url);\n  try {\n    const response = await axios.get(url);\n    books = response.data.items.map(book => bookFormat(book));\n    console.log(\"books\", books);\n    return books;\n  } catch (error) {\n    console.error(\"Error fetching books:\", error);\n    return [];\n  }\n};\nexport default fetchQuery;","map":{"version":3,"names":["axios","apiKey","bookFormat","book","_book$volumeInfo$imag","isbn","industryIdentifiers","identifier","title","volumeInfo","author","authors","join","publisher","publishDate","publishedDate","description","categories","pageCount","language","toUpperCase","thumbnail","imageLinks","fetchQuery","type","crit","search","sort","url","books","console","log","response","get","data","items","map","error"],"sources":["D:/Millions/React/Book-Library/src/hooks/fetchQuery.js"],"sourcesContent":["import axios from 'axios'\r\n\r\nconst apiKey = \"AIzaSyB3DESYJ2L-dUafM9YJG8yzVa1pZ-3ETZE\"\r\n\r\nconst bookFormat = (book) => {\r\n    return {\r\n        isbn: book.industryIdentifiers[0].identifier,\r\n        title: book.volumeInfo.title,\r\n        author: book.volumeInfo.authors ? book.volumeInfo.authors.join(', ') : 'Unknown Author',\r\n        publisher: book.volumeInfo.publisher || 'Unknown Publisher',\r\n        publishDate: book.volumeInfo.publishedDate || 'Unknown Date',\r\n        description: book.volumeInfo.description || 'No Description Available',\r\n        categories: book.volumeInfo.categories ? book.volumeInfo.categories.join(', ') : 'Uncategorized',\r\n        pageCount: book.volumeInfo.pageCount || 'Unknown Page Count',\r\n        language: book.volumeInfo.language ? book.volumeInfo.language.toUpperCase() : 'Unknown Language',\r\n        thumbnail: book.volumeInfo.imageLinks?.thumbnail || ''\r\n  };\r\n}\r\n\r\nconst fetchQuery = async (type, crit, search, sort) => {\r\n  let url = `https://www.googleapis.com/books/v1/volumes?q=${search}&orderBy=${sort}&key=${apiKey}&maxResults=40`\r\n  if (crit === \"Author\")\r\n    url = `https://www.googleapis.com/books/v1/volumes?q=inauthor:${search}&orderBy=${sort}&key=${apiKey}&maxResults=40`\r\n  if (crit === \"ISBN\")\r\n    url = `https://www.googleapis.com/books/v1/volumes?q=isbn:${search}&orderBy=${sort}&key=${apiKey}&maxResults=40`\r\n\r\n\r\n\r\n  let books = []\r\n  console.log(\"Fetching from URL:\", url);\r\n  try {\r\n    const response = await axios.get(url)\r\n    books = response.data.items.map(book => bookFormat(book));\r\n    console.log(\"books\", books);\r\n    \r\n    return books\r\n  } catch (error) {\r\n    console.error(\"Error fetching books:\", error)\r\n    return []\r\n  }\r\n}\r\nexport default fetchQuery;"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,MAAM,GAAG,yCAAyC;AAExD,MAAMC,UAAU,GAAIC,IAAI,IAAK;EAAA,IAAAC,qBAAA;EACzB,OAAO;IACHC,IAAI,EAAEF,IAAI,CAACG,mBAAmB,CAAC,CAAC,CAAC,CAACC,UAAU;IAC5CC,KAAK,EAAEL,IAAI,CAACM,UAAU,CAACD,KAAK;IAC5BE,MAAM,EAAEP,IAAI,CAACM,UAAU,CAACE,OAAO,GAAGR,IAAI,CAACM,UAAU,CAACE,OAAO,CAACC,IAAI,CAAC,IAAI,CAAC,GAAG,gBAAgB;IACvFC,SAAS,EAAEV,IAAI,CAACM,UAAU,CAACI,SAAS,IAAI,mBAAmB;IAC3DC,WAAW,EAAEX,IAAI,CAACM,UAAU,CAACM,aAAa,IAAI,cAAc;IAC5DC,WAAW,EAAEb,IAAI,CAACM,UAAU,CAACO,WAAW,IAAI,0BAA0B;IACtEC,UAAU,EAAEd,IAAI,CAACM,UAAU,CAACQ,UAAU,GAAGd,IAAI,CAACM,UAAU,CAACQ,UAAU,CAACL,IAAI,CAAC,IAAI,CAAC,GAAG,eAAe;IAChGM,SAAS,EAAEf,IAAI,CAACM,UAAU,CAACS,SAAS,IAAI,oBAAoB;IAC5DC,QAAQ,EAAEhB,IAAI,CAACM,UAAU,CAACU,QAAQ,GAAGhB,IAAI,CAACM,UAAU,CAACU,QAAQ,CAACC,WAAW,CAAC,CAAC,GAAG,kBAAkB;IAChGC,SAAS,EAAE,EAAAjB,qBAAA,GAAAD,IAAI,CAACM,UAAU,CAACa,UAAU,cAAAlB,qBAAA,uBAA1BA,qBAAA,CAA4BiB,SAAS,KAAI;EAC1D,CAAC;AACH,CAAC;AAED,MAAME,UAAU,GAAG,MAAAA,CAAOC,IAAI,EAAEC,IAAI,EAAEC,MAAM,EAAEC,IAAI,KAAK;EACrD,IAAIC,GAAG,GAAG,iDAAiDF,MAAM,YAAYC,IAAI,QAAQ1B,MAAM,gBAAgB;EAC/G,IAAIwB,IAAI,KAAK,QAAQ,EACnBG,GAAG,GAAG,0DAA0DF,MAAM,YAAYC,IAAI,QAAQ1B,MAAM,gBAAgB;EACtH,IAAIwB,IAAI,KAAK,MAAM,EACjBG,GAAG,GAAG,sDAAsDF,MAAM,YAAYC,IAAI,QAAQ1B,MAAM,gBAAgB;EAIlH,IAAI4B,KAAK,GAAG,EAAE;EACdC,OAAO,CAACC,GAAG,CAAC,oBAAoB,EAAEH,GAAG,CAAC;EACtC,IAAI;IACF,MAAMI,QAAQ,GAAG,MAAMhC,KAAK,CAACiC,GAAG,CAACL,GAAG,CAAC;IACrCC,KAAK,GAAGG,QAAQ,CAACE,IAAI,CAACC,KAAK,CAACC,GAAG,CAACjC,IAAI,IAAID,UAAU,CAACC,IAAI,CAAC,CAAC;IACzD2B,OAAO,CAACC,GAAG,CAAC,OAAO,EAAEF,KAAK,CAAC;IAE3B,OAAOA,KAAK;EACd,CAAC,CAAC,OAAOQ,KAAK,EAAE;IACdP,OAAO,CAACO,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;IAC7C,OAAO,EAAE;EACX;AACF,CAAC;AACD,eAAed,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}